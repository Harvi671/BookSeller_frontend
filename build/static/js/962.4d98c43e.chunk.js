"use strict";(self.webpackChunkecom_book_fe=self.webpackChunkecom_book_fe||[]).push([[962],{7962:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var i=t(1413),a=t(5861),r=t(885),o=t(7757),l=t.n(o),d=t(2791),s=t(8596),c=t(8197),p=(0,s.Z)((function(e){return{productWrapper:{padding:"42px 0 80px","@media (max-width: 991px)":{padding:"35px 0 50px"},"@media (max-width: 767px)":{padding:"35px 0 40px"},"& .btn-wrapper":{textAlign:"right",display:"flex",justifyContent:"flex-end",marginBottom:"10px","& .btn":{height:"40px",lineHeight:"40px",minWidth:"100px",marginLeft:"10px",padding:"0 10px",fontSize:"14px"},"& .MuiFormControl-fullWidth":{maxWidth:"300px"}},"& .MuiTable-root":{"@media (max-width: 991px)":{width:"900px",overflow:"auto"},"& .MuiTableBody-root":{"& .MuiTableRow-root":{"& .MuiTableCell-root":{"&:last-child":{paddingRight:"0",textAlign:"right"}}}},"& .green-btn":{height:"30px",lineHeight:"30px",minWidth:"80px",fontSize:"14px",backgroundColor:"transparent",textTransform:"capitalize",color:c.O9.greenText,border:"1px solid #80BF32","&:hover":{backgroundColor:c.O9.greenText,color:c.O9.white}},"& .pink-btn":{height:"30px",lineHeight:"30px",minWidth:"80px",fontSize:"14px",backgroundColor:"transparent",color:c.O9.primary,border:"1px solid #f14d54",marginLeft:"10px",borderRadius:"4px",padding:"0 10px","&:hover":{backgroundColor:c.O9.primary,color:c.O9.white}}},"& .MuiTablePagination-root":{marginTop:"20px","& .MuiTablePagination-toolbar":{paddingRight:"20px","@media (max-width: 991px)":{padding:"0"},"@media (max-width: 374px)":{flexWrap:"wrap",justifyContent:"center"},"& .MuiSelect-selectMenu":{height:"40px",paddingRight:"25px !important",display:"flex",alignItems:"center"},"& .MuiSelect-nativeInput":{top:"0"},"& .MuiIconButton-root":{"@media (max-width: 574px)":{padding:"8px"},"@media (max-width: 374px)":{marginLeft:"0px",marginTop:"10px"}},"& .MuiTablePagination-actions":{"@media (max-width: 574px)":{marginLeft:"8px"}}}}}}})),u=t(9271),x=t(8302),h=t(3188),g=t(6556),m=t(6593),f=t(7631),b=t(8583),Z=t(9773),j=t(5757),v=t(3486),k=t(6513),w=t(9421),C=t(6960),y=t(4231),T=t(3594),S=t(5159),N=t(4026),E=t(6169),M=t(269),P=t(184),W=function(e){var n=e.open,t=e.onClose,i=e.onConfirm,a=e.title,r=e.description;return(0,P.jsxs)(T.Z,{open:n,onClose:function(){return t()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",className:"cancel-popup",children:[(0,P.jsx)(S.Z,{id:"alert-dialog-title",children:a}),(0,P.jsx)(N.Z,{children:(0,P.jsx)(E.Z,{id:"alert-dialog-description",children:r})}),(0,P.jsxs)(M.Z,{children:[(0,P.jsx)(k.Z,{type:"button",onClick:function(){return t()},className:"btn pink-btn",children:"Cancel"}),(0,P.jsx)(k.Z,{onClick:function(){i()},autoFocus:!0,className:"btn green-btn",children:"Ok"})]})]})},I=t(3595),A=function(){var e=p(),n=(0,d.useState)(c.f9),t=(0,r.Z)(n,2),o=t[0],s=t[1],T=(0,d.useState)({results:[],totalresults:0}),S=(0,r.Z)(T,2),N=S[0],E=S[1],M=(0,d.useState)(!1),A=(0,r.Z)(M,2),O=A[0],z=A[1],B=(0,d.useState)(0),L=(0,r.Z)(B,2),R=L[0],_=L[1],D=(0,d.useState)([]),F=(0,r.Z)(D,2),H=F[0],U=F[1];(0,d.useEffect)((function(){Y()}),[]);var Y=function(){var e=(0,a.Z)(l().mark((function e(){return l().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.Z.getAll({pageIndex:0}).then((function(e){e&&U(e.results)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),q=(0,d.useMemo)((function(){return null!==N&&void 0!==N&&N.results?N.results:[]}),[H,N]),G=(0,u.k6)();(0,d.useEffect)((function(){var e=setTimeout((function(){""===o.keyword&&delete o.keyword,J((0,i.Z)({},o))}),500);return function(){return clearTimeout(e)}}),[o]);var J=function(e){w.Z.getAll(e).then((function(e){E(e)}))};return(0,P.jsx)("div",{className:e.productWrapper,children:(0,P.jsxs)("div",{className:"container",children:[(0,P.jsx)(x.Z,{variant:"h1",children:"Book Page"}),(0,P.jsxs)("div",{className:"btn-wrapper",children:[(0,P.jsx)(h.Z,{id:"text",name:"text",placeholder:"Search...",variant:"outlined",inputProps:{className:"small"},onChange:function(e){s((0,i.Z)((0,i.Z)({},o),{},{keyword:e.target.value,pageIndex:1}))}}),(0,P.jsx)(k.Z,{type:"button",className:"btn pink-btn",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){return G.push("/add-book")},children:"Add"})]}),(0,P.jsx)(b.Z,{children:(0,P.jsxs)(g.Z,{"aria-label":"simple table",children:[(0,P.jsx)(Z.Z,{children:(0,P.jsxs)(v.Z,{children:[[{id:"name",label:"Book Name",minWidth:100},{id:"price",label:"Price",minWidth:100},{id:"category",label:"Category",minWidth:100}].map((function(e){return(0,P.jsx)(f.Z,{style:{minWidth:e.minWidth},children:e.label},e.id)})),(0,P.jsx)(f.Z,{})]})}),(0,P.jsxs)(m.Z,{children:[null===q||void 0===q?void 0:q.map((function(e,n){return(0,P.jsxs)(v.Z,{children:[(0,P.jsx)(f.Z,{children:e.name}),(0,P.jsx)(f.Z,{children:e.price}),(0,P.jsx)(f.Z,{children:e.category}),(0,P.jsxs)(f.Z,{children:[(0,P.jsx)(k.Z,{type:"button",className:"green-btn btn",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){G.push("/edit-book/".concat(e.id))},children:"Edit"}),(0,P.jsx)(k.Z,{type:"button",className:"btn pink-btn",variant:"contained",color:"primary",disableElevation:!0,onClick:function(){var n;z(!0),_(null!==(n=e.id)&&void 0!==n?n:0)},children:"Delete"})]})]},e.id)})),!(null!==N&&void 0!==N&&N.results.length)&&(0,P.jsx)(v.Z,{className:"TableRow",children:(0,P.jsx)(f.Z,{colSpan:5,className:"TableCell",children:(0,P.jsx)(x.Z,{align:"center",className:"noDataText",children:"No Books"})})})]})]})}),(0,P.jsx)(j.Z,{rowsPerPageOptions:c.zY,component:"div",count:null!==N&&void 0!==N&&N.results.length?N.totalresults:0,rowsPerPage:o.pageSize||0,page:o.pageIndex-1,onPageChange:function(e,n){s((0,i.Z)((0,i.Z)({},o),{},{pageIndex:n+1}))},onRowsPerPageChange:function(e){s((0,i.Z)((0,i.Z)({},o),{},{pageIndex:1,pageSize:Number(e.target.value)}))}}),(0,P.jsx)(W,{open:O,onClose:function(){return z(!1)},onConfirm:function(){w.Z.delete(R).then((function(e){C.Am.success(I.Z.messages.DELETE_SUCCESS),z(!1),s((0,i.Z)((0,i.Z)({},o),{},{pageIndex:1}))})).catch((function(e){return C.Am.error(I.Z.messages.DELETE_FAIL)}))},title:"Delete book",description:"Are you sure you want to delete this book?"})]})})}}}]);
//# sourceMappingURL=962.4d98c43e.chunk.js.map